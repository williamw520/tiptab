/*
  Tip Tab
  A Firefox extension to manage and navigate the browser tabs.
  Copyright (C) 2018  William Wong (williamw520@gmail.com)

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

:root {
    --header-height:        2.2rem;
    
    /* thumbnail has 16:9 rato */
    --img-width:            8.0rem;       
    --img-height:           4.5rem;
    --img-border:           0.075rem;

    --tab-gap:              0.6rem;

    --left-pane-width:      2.2rem;
    --right-pane-width:     8.0rem;
    --logo-box-width:       var(--left-pane-width);
    --logo-box-height:      1.2rem;

    --overlay-h-pad:        1.0rem;
    --overlay-v-pad:        0.25rem;

    --px1:                  1px;
}

html {
    /* font-size controls the root em (rem) unit size.  Set this to control the size of all components. */
    font-size:  16px;
}

body {
}

.hidden {
    display: none;
}

.ptr {
    cursor:         pointer;
}
.dptr {
    cursor:         default;
}

.mw1 {
    min-width:      1rem;
}
.mw2 {
    min-width:      2rem;
}
.mw4 {
    min-width:      4rem;
}
.mw5 {
    min-width:      5rem;
}
.mw6 {
    min-width:      6rem;
}
.mw7 {
    min-width:      7rem;
}
.mw8 {
    min-width:      8rem;
}
.mw9 {
    min-width:      9rem;
}

.w3_5rem {
    width:          3.5rem;
}
.w4_5rem {
    width:          4.5rem;
}
.w5rem {
    width:          5rem;
}
.w6rem {
    width:          6rem;
}
.w7rem {
    width:          7rem;
}

.btn.btn-cmd {
    font-size:      .675rem;
    height:         1.25rem;
    line-height:    1.0;
    padding:        .15rem .3rem;
}
.btn.btn-cmd-i {
    height:         1.3rem;
    width:          1.4rem;
    padding:        .05rem .05rem;
}
.btn.btn-lv1 {
    border:         .05rem solid #007bff;
    width:          2.6rem;
    /* background:     #fffddd; */
}
.btn.btn-lv2 {
    border:         .05rem solid #007bff;
    width:          2.6rem;
    /* background:     #fffddd; */
}
.btn.btn-lv3 {
    border:         .05rem solid #007bff;
}

.badge.btn-cmd-i[data-badge]::after {
    background:     #4f9fef;
    font-size:      .5rem;
    height:         .7rem;
}
.badge.btn-cmd-i:not([data-badge])::after,
.badge.btn-cmd-i[data-badge=""]::after {
    height:         6px;
    min-width:      6px;
    padding:        0;
    width:          6px;
}


.cmd-size {
    width:          4.70rem;
}

.size-85pct {
    font-size:      85%;
}
.size-1-1rem {
    font-size:      1.1rem;
}
.size-1-4rem {
    font-size:      1.4rem;
}

.rounded2 {
  border-radius:    .2rem;
}
.rounded3 {
  border-radius:    .3rem;
}

.logo-box {
    width:          var(--logo-box-width);
    height:         var(--logo-box-height);
}

.logo {
    color:          rgba(255, 255, 255, .85);
    display:        inline-block;
    font-size:      .8rem;
    font-weight:    300;
    width:          1.6rem;
    height:         1.6rem;
    line-height:    1.25;
    margin:         0;
    position:       relative;
    vertical-align: middle; 
}

.logo.logo-xs {
    font-size:      .4rem;
    height:         .8rem;
    width:          .8rem;
}

.logo.logo-sm {
    font-size:      .6rem;
    width:          1.2rem;
    height:         1.2rem;
}

.logo.logo-lg {
    font-size:      1.2rem;
    height:         2.4rem;
    width:          2.4rem;
}

.logo.logo-xl {
    font-size:      1.6rem;
    height:         3.2rem;
    width:          3.2rem;
}

.logo img {
    height:         100%;
    width:          100%;
    position:       relative;
    z-index:        1;
}

.logo-version {
    font-size:      0.75rem;
    color:          gray;
}

.list-icon {
    font-size:      1.0rem;
}
.list-num {
    margin-top:     0.025rem;
    font-size:      60%;
    color:          #a7a9ad;
    text-align:     center;
}
.text-gray {
    color:          #a7a9ad;
}

a.disabled {
    cursor:         default;
    opacity:        .5;
    pointer-events: none;
}
.cmd-disabled {
    cursor:         default;
    opacity:        .5;
    pointer-events: none;
}

.bold {
    font-weight:    bold;
}
.normal {
    font-weight:    normal;
}

.nowrap {
    white-space:        nowrap;
}


/* override max-height:50rem in Spectre.css to allow many tabs displayed without limit under the accordion header. */
.accordion input:checked ~ .accordion-body,
.accordion[open] .accordion-body {
    max-height:     none;
}

.window-underline {
    border-bottom:  .05rem solid #c7c9cd;
}

.sort-selected {
    background-color:   #ebfbfb;
}

.flash-yellow {
    animation: flash-yellow 0.3s ease-out;
    animation-iteration-count: 1;
}
@keyframes flash-yellow {
    0% { background-color: transparent; }
    50% { background-color: #fbf8b2; }
    100% { background-color: transparent; }
}

.flash-blue {
    animation: flash-blue 0.3s ease-out;
    animation-iteration-count: 1;
}
@keyframes flash-blue {
    0% { background-color: transparent; }
    50% { background-color: #01d1ff; }
    100% { background-color: transparent; }
}

.flash-red {
    animation: flash-red 0.3s ease-out;
    animation-iteration-count: 1;
}
@keyframes flash-red {
    0% { background-color: transparent; }
    50% { background-color: red; }
    100% { background-color: transparent; }
}

.m-01   {   margin:         .1rem;  }
.mb-01  {   margin-bottom:  .1rem;  }
.ml-01  {   margin-left:    .1rem;  }
.mr-01  {   margin-right:   .1rem;  }
.mt-01  {   margin-top:     .1rem;  }
.mx-01  {   margin-left:    .1rem;
            margin-right:   .1rem;  }
.my-01  {   margin-bottom:  .1rem;
            margin-top:     .1rem;  }

.m-3    {   margin:         .6rem;  }
.mb-3   {   margin-bottom:  .6rem;  }
.ml-3   {   margin-left:    .6rem;  }
.mr-3   {   margin-right:   .6rem;  }
.mt-3   {   margin-top:     .6rem;  }
.mx-3   {   margin-left:    .6rem;
            margin-right:   .6rem;  }
.my-3   {   margin-bottom:  .6rem;
            margin-top:     .6rem;  }

.m-4    {   margin:         .8rem;  }
.mb-4   {   margin-bottom:  .8rem;  }
.ml-4   {   margin-left:    .8rem;  }
.mr-4   {   margin-right:   .8rem;  }
.mt-4   {   margin-top:     .8rem;  }
.mx-4   {   margin-left:    .8rem;
            margin-right:   .8rem;  }
.my-4   {   margin-bottom:  .8rem;
            margin-top:     .8rem;  }

.m-5    {   margin:         1rem;   }
.mb-5   {   margin-bottom:  1rem;   }
.ml-5   {   margin-left:    1rem;   }
.mr-5   {   margin-right:   1rem;   }
.mt-5   {   margin-top:     1rem;   }
.mx-5   {   margin-left:    1rem;
            margin-right:   1rem;   }
.my-5   {   margin-bottom:  1rem;
            margin-top:     1rem;   }

.m-6    {   margin:         1.2rem;   }
.mb-6   {   margin-bottom:  1.2rem;   }
.ml-6   {   margin-left:    1.2rem;   }
.mr-6   {   margin-right:   1.2rem;   }
.mt-6   {   margin-top:     1.2rem;   }
.mx-6   {   margin-left:    1.2rem;
            margin-right:   1.2rem;   }
.my-6   {   margin-bottom:  1.2rem;
            margin-top:     1.2rem;   }


/* Override Spectre's .dropdown, dropdown-toggle, and .menu to make it more user friendly. */
.dropdown .dropdown-toggle:focus {
    /* Repeatedly clicking on the dropdown-toggle div should toggle the showing/hiding of the menu. */
    pointer-events: none;           /* Don't accept click event when focused; next click would lose focus. */
}
.dropdown .menu {
    display:        inherit;        /* Negate "display: none" in spectre.css.  Showing/hiding is controlled by visibility below. */
    visibility:     hidden;         /* Menu is initially hidden when not triggered to show. */
    transition:     visibility .5s; /* Delay the transition to hidden visibility when clicked to allow the click event to propagate to the menu item. */
    opacity:        0;              /* Use transparency to fake immediate toggle. */
}
.dropdown.active .menu,
.dropdown .dropdown-toggle:focus + .menu {
    opacity:        1;              /* Make menu opaque when shown. */
    visibility:     visible;        /* Show menu. */
}

.dbg-border {
    border: 1px dotted red;
}
.dbg-border2 {
    border: 1px dotted blue;
}
.dbg-border3 {
    border: 1px dotted orange;
}
.dbg-bg {
    background: yellow;
}
.dbg-bg2 {
    background: red;
}
.dbg-bg3 {
    background: blue;
}


/* app specific styles */

.header-bar {
    position:       fixed;
    height:         var(--header-height);
    margin-left:    0;
    padding-left:   0;
    padding-right:  0;
    background:     #fdfdfd;
    border-bottom:  0.02rem solid #bdbdbd;
    z-index:        10;
    
    display:        flex;
}

.v-container {
    height:         100vh;
    display:        flex;
    flex-direction: column;
}
.v-container .h-container {
    flex:           1;          /* for the outer v-container */

    display:        flex;       /* start inner h-container */
    flex-direction: row;
    padding-top:    2.2rem;
}
.h-container .mid-pane {
    flex:           1;
}
.h-container .left-pane {
    order:          -1;         /* put the nav on the left */
    flex:           0 0 var(--left-pane-width);
}
.h-container .right-pane {
    flex:           0 0 var(--right-pane-width);
}

.main-content {
    padding:        0 0 5rem 0;
}

.v-btn-bar {
    display:            flex;
    flex-direction:     column;
    align-items:        center;
    padding:            0;
    margin:             0;
    width:              var(--left-pane-width);
    height:             100%;
    border-right:       0.02rem solid #e0e0e0;
}

.content-title {
    font-size:          75%;
    color:              gray;
    background:         #fbfbfb;
    padding:            0.05rem 0.4rem 0.05rem 0.4rem;
    border-bottom:      0.02rem solid #e0e0e0;
}

.all-tab-lane {
    padding:            1rem 1rem 1rem 0.5rem;
}

.window-tab-lane {
    margin:             1rem;
    background:         #fbfbfb;
    border:             var(--img-border) solid #b0b0b0;
    box-shadow:         1px 1px #dddddd;
}
.window-tab-title {
    font-size:          85%;
    margin-bottom:      var(--tab-gap);
    padding:            0.0rem var(--tab-gap) 0.0rem var(--tab-gap);
    background:         #f4f4f4;
    border-bottom:      0.02rem solid #d0d0d0;
}

.container-tab-lane {
    margin:             1rem;
    background:         #fbfbfb;
    border:             var(--img-border) solid #b0b0b0;
    box-shadow:         2px 1px #dddddd;
}
.container-tab-title {
    display:            flex;
    align-items:        center;
    font-size:          85%;
    margin-bottom:      var(--tab-gap);
    padding:            0.1rem var(--tab-gap) 0.1rem var(--tab-gap);
    background:         #f4f4f4;
    border-bottom:      0.02rem solid #d0d0d0;
}

.tab-search {
    border:             .05rem solid #007bff;
    width:              15rem;
}

.tab-grid {
    display:            flex;
    flex-direction:     row;
    flex-wrap:          wrap;
    margin:             0 var(--tab-gap) 0 var(--tab-gap);
}
.tab-grid .tab-box {
    flex:               0 0 auto;
    margin:             var(--tab-gap) var(--tab-gap);

    display:            flex;
    flex-direction:     column;
}
.tab-thumbnail {
    flex:               1 0 auto;

    /* Have an outward border. Add the border size to the width and height. */
    box-sizing:         border-box;
    border:             var(--img-border) solid #c7c9cd;
    width:              calc(var(--img-width)  + var(--img-border) + var(--img-border));
    height:             calc(var(--img-height) + var(--img-border) + var(--img-border));
    cursor:             pointer;
}
.tab-img {
    width:              var(--img-width);
    height:             var(--img-height);
}
.tab-subtitle {
    flex:               0 0 auto;
    width:              var(--img-width);
    font-size:          80%;
    overflow:           hidden;
    white-space:        nowrap;
    overflow:           hidden;
    text-overflow:      ellipsis;
}
.tab-url {
}

#overlay-content {
    pointer-events:     none;       /* no mouse event so that the elements behind it will get the mouseover event. */
}
.overlay-pane {
    position:           fixed;
    top:                calc(var(--header-height) + var(--overlay-v-pad) * 12);
    left:               calc(var(--left-pane-width) + var(--overlay-h-pad));
    right:              var(--overlay-h-pad);
    bottom:             var(--overlay-v-pad);
    width:              auto;
    height:             auto;
    z-index:            100;
    cursor:             pointer;
    /* background-color:   rgba(0, 0, 0, 0.2); */

    display:            flex;
    justify-content:    center;
    align-items:        center;

    pointer-events:     none;       /* no mouse event so that the elements behind it will get the mouseover event. */
}
.overlay-pane .overlay-img {
    position:           absolute;
    max-width:          92%;
    max-height:         92%;
    padding:            1px;
    border:             1px solid #021a40;
    pointer-events:     none;       /* no mouse event so that the elements behind it will get the mouseover event. */
}

.drop-tab-zone {
    position:           absolute;
    box-sizing:         border-box;
    border:             var(--img-border) solid #ff9900;
}
.drop-end-zone {
    position:           absolute;
    box-sizing:         border-box;
    border:             var(--img-border) solid #ff9900;
}
.drop-hover-endzone {
    box-shadow:         1px 1px #dddddd;
    background-color:   #fff5e6;
}
.drop-hover-endzone::after {
    padding-left:       0.4rem;
    content:            "drop at the end";
}
.drop-hover-gap::after {
    position:           absolute;
    left:               -1px;
    top:                -1px;
    width:              calc(var(--tab-gap) + var(--tab-gap) + var(--img-width) + var(--img-border) + var(--img-border) - var(--px1));
    height:             calc(var(--img-height) + var(--img-border) + var(--img-border));
    background-color:   #fff5e6;
    box-sizing:         border-box;
    border:             var(--img-border) solid #ff9900;
    z-index:            1;
    padding-left:       0.4rem;
    content:            "drop in front";
}
.drop-hover-border::after {
    position:           absolute;
    left:               calc(var(--tab-gap) * -2 + var(--px1));
    top:                0;
    width:              calc(var(--tab-gap) + var(--tab-gap) + var(--img-width) + var(--img-border) + var(--img-border) - var(--px1));
    height:             calc(var(--img-height) + var(--img-border) + var(--img-border));
    background-color:   #fff5e6;
    z-index:            1;
    box-sizing:         border-box;
    border:             var(--img-border) solid #ff9900;
    padding-left:       0.4rem;
    content:            "drop in front";
}
