
* Feature TODO
** TODO Container cmd: Move all tabs of a container to its window, open tab in container
** TODO In-app shortcut keys.  Custom in-app shortcut keys.
** TODO Refresh one tab onUpdated
** TODO Monitor container events and refresh container info/UI.
** TODO Save container windows and their tabs.
** TODO Bookmark a tab.
** TODO Bookmark all tabs of a window.
** TODO Show bookmarks as tab box, with saved thumbnails shown.
** TODO Save all screenshots.  This needs zip support in Javascript.
** TODO Sort tabs

* Release 2.7 Feature
** Bug Fix: blank saved search button when there's no saved search. 
** Bug Fix: tab-able and focusable buttons for global commands.

* Release 2.6 Feature
** DONE Clear search command.
** DONE Open Tip Tab in new window, controlled by option.
** DONE Create window command.
** DONE Create tab command.
** DONE Thumbnail popup when mouse is over the quarter circle at the lower-right corner.
** DONE Saved searches as buttons at the search bar.
** DONE Shortcut keys to saved searches, Ctrl+Shift+[1-8]

* Release 2.5 Feature
** DONE Preserve the input focus on the tab when activating it.
** DONE Scale the window lane's buttons and title better.
** DONE Scale the tab's buttons and title better.
** DONE Make the active window's title bold.
** DONE Add error message display area.
** DONE Disable drag and drop on pinned tabs.
** DONE Default search shortcut, with an extension command.  Custom search shortcut, in app.
** DONE Remove Firefox's "_execute_browser_action" command for launching app, which doesn't seem to be working on all platforms.
** DONE Add "activate" and "search" hotkey commands.
** DONE Migrate to Firefox 60's command key feature to handle custom hotkey.
** DONE Reformat the custom hotkey's shortcut string as Ctrl/Alt/Meta-Shift-XX.
** DONE Handle the Mac control key for custom hotkey's shortcut, with MacCtrl.
** DONE Remove the old handling custom hotkey with content script in pages.
** DONE Revamp hotkey => app command => activation/focus.


* Release 2.4 Feature
** DONE User defined thumbnail dimensions.
** DONE Add audio decoration.  Monitor audio playing.
** DONE Sync tab display with the tabs moved by the user directly in the browser.


* Release 2.3 Feature
** DONE Hide/show tab, on Firefox 61+.  Hide/show tabs in window.
** DONE Active tab cannot be hidden; disable menu item.  Likewise, activating a tab (clicking it) would show it.
** DONE Focus stays on Tip Tab page after duplicating a tab.
** DONE Clicking on the status buttons of a tab changes the status.
** DONE Change the decoration of an active tab from highlighted border shadow to bold title.
** DONE More helpful message for empty view with no tab.
** DONE Filter tab by status (hidden, muted, pinned).  Tri-state: none, muted, unmuted.

* Release 2.2 Feature
** DONE Bug: Missing Options page in packaging for some platforms.

* Release 2.1 Feature
** DONE Bug: When custom hotkey is not set, international key input might trigger the empty hotkey.

* Release 2.0 Feature
** DONE Color the tab thumbnail border according to container's color.
** DONE Color the tab thumbnail border according to tab's private window state.
** DONE Color the window border according to window's private state.
** DONE Color the container border according to container's private state.
** DONE Status icon for private window.
** DONE Status icon for pinned window.
** DONE Status icon for muted window.
** DONE Status icon for container, showing the container icon and name.
** DONE Starting animation is showing full size thumbnail one by one (rather than zoom in each one).
** DONE Disable dragging tab across normal and private windows.
** DONE Show active tab
** DONE Overlay controls on thumbnails - drag bar, menu, popup area.
** DONE Delete tab
** DONE Duplicate tab
** DONE Reload tab
** DONE Mute/unmute tab
** DONE Pin/unpin tab
** DONE Close window
** DONE Close all other tabs
** DONE Close left other tabs
** DONE Close right other tabs
** DONE Move to a new window
** DONE Retrofit UI drawing architecture.
** DONE Copy tab URL
** DONE Hide the TipTab tab
** DONE Custom thumbnail dimension: small, medium, or large.
** DONE Display nested tab thumbnails within windows in grid.  Window lanes.
** DONE Window command menu.
** DONE Window command: Reload all tabs in window
** DONE Window command: Undo tab close
** DONE Window command: Mute all, unmute all.
** DONE Window command: Pin all, unpin all.
** DONE Window command: Copy all titles and urls
** DONE Window commands applied to effective tabs after search filtering.
** DONE Bottom status bar overlay.
** DONE Refresh individual or group of UI items after commands.
** DONE Save tab screenshot
** DONE Footer window bar.  Selected windows to limit the ones whose tabs are shown.
** DONE Footer container bar.  Selected containers to limit the ones whose tabs are shown.
** DONE Show appropriate message on the empty pane, in case filtering/footer hide all the tabs.
** DONE Preserve the last active tab of the TipTab's window.
** DONE Setting support.  Option UI page.
** DONE Keyboard navigation with the Tab key to select the next tab box and Enter to activate it.
** DONE Keyboard navigation with the app hotkey and the custom hotkey to select the next tab box.
** DONE Custom key binding for invocation hot key.
** DONE New extension icon.
** DONE Drag and drop to copy tab between containers.
** DONE Use MacCtrl+Shift+F for app hotkey on Mac.
** DONE Monitor tab events and refresh tab info/UI.
** DONE Monitor window events and refresh window info/UI.
** DONE Global menu, for Options page.
** DONE Global menu, for commands on all tabs or on all windows.
** DONE Show containers, even if they are empty, for drop and drag tabs into them.
** DONE Bug: empty search text is not saved.  Refreshing the TipTab page gets back the old search text.
** DONE Bug: drag and drop new tab into container doesn't initialize the tab menu handlers.
** DONE Drop and drop from private window to normal

* Release 1.3 Feature
** DONE Initial zoom out of thumbnails.
** DONE Prevent XSS attack by escaping unsafe text from tabs, windows, and containers.

* Release 1.2 Feature
** DONE Establish window lane end zone to drop tab at the end of window lane.
** DONE Establish gap zone between tabs to drop in front of the tab.

* Release 1.1 Feature
** DONE Drag and drop a tab to re-arrange its position within a window.
** DONE Drag and drop a tab across windows to move it to a different window.

* Release 1.0 Feature
** DONE Display tab thumbnails in grid.
** DONE All tab pane.
** DONE Tabs by window pane.
** DONE Tabs by container pane.
** DONE Search on tab titles and url to limit the tabs displayed.
** DONE Tab preview on mouse hovering on thumbnail.
** DONE Save and restore UI states.
** DONE Keyboard shortcut for invoking extension.


* Documentation
** Permissions
*** tabs
    The "tabs" permission is required in order to get and set the url, title, and favIconUrl properties of a tab.
*** storage
    The "storage" permission is required to store and load the session data.
*** cookies
    The "cookies" permission is required to get and set the "cookieStoreId" property in a tab.
*** contextualIdentities
    The "contextualIdentities" permission is required to get the container information.
*** sessions
    The "sessions" permission is used to undo closed tab.
*** downloads
    The "downloads" permission is used to download the tab window image.
*** tabHide
    The "tabHide" permission is used to hide and show tabs.


* Review note
The following 3rd party libraries are used in this extension.  The versions and the source locations of where they were obtained are listed below.  Please use text diff when comparing the files in the extension against the file from the sources.  Binary diff might give false positive since the linefeed LF are converted to CRLF between different platforms.

* 3rd Party Libraries
** JQuery, 3.2.1
   https://code.jquery.com/jquery/
   https://code.jquery.com/jquery-3.2.1.min.js
** JQuery UI, 1.12.1
   https://jqueryui.com/download/all/
   https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js
** Moment, 2.22.2
   https://momentjs.com/
   https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js
** Spectre CSS, 0.4.7
   https://github.com/picturepan2/spectre/releases
   https://github.com/picturepan2/spectre/archive/v0.4.7.zip, from the directory spectre-0.4.7/docs/dist/.


* Description

Tip Tab let you manage and navigate the open browser tabs visually, similar to the Exposé feature on Mac OS.

NOTE: Starting from version 2.3, Tip Tab requires Firefox 61, to support the hidden tab feature.

<b>Feature Highlight:</b>
<ul>
  <li> Visual tab navigation with mouse.
  <li> Visual tab navigation with keyboard (with tab/enter or hotkey).
  <li> Tab preview on popup.
  <li> Custom sizes of tab thumbnails.
  <li> Showing tabs by all, by windows, or by containers.
  <li> Search tabs.  Filter by search words in titles.
  <li> Filter tabs by windows or by containers.  Filter by status (hidden, muted, pinned).
  <li> Showing tab attributes with decoration, colors, and status icons.
  <li> Tab commands: reload, hide, mute, pin, copy, screenshot download, various flavors of close commands, etc.
  <li> Window commands, applying to all the tabs in a window.
  <li> Global commands, applying to all the tabs.
  <li> Drag and drop to re-arrange tabs within a window or a container.
  <li> Drag and drop to move tabs across windows and containers.
  <li> Drag and drop to copy tabs across different domains (containers and private windows).
  <li> Live sync of outside tab events and window events (create, move, close, etc).
  <li> Live sync of website navigation on tab.
  <li> Custom hot key.
  <li> Options page.
</ul>

<b>Permissions Usage Disclosure:</b>
(This extension requires the following permissions to function properly.)
<ol>
 <li>The "tabs" permission is needed to access the properties of the tabs.</li>
 <li>The "storage" permission is needed to save settings.</li>
 <li>The "cookies" permission is needed to get the "cookieStoreId" property in a tab, which is the tab's container Id.  (Note: the "cookies" permission will cause the display of the notice, "It requires permission to: Access your data for all websites," during installation.)</li>
 <li>The "contextualIdentities" permission is required to retrieve the container information.</li>
 <li>The "sessions" permission is used to undo closed tab.</li>
 <li>The "downloads" permission is used to let user download the tab window screenshot.</li>
 <li>The "tabHide" permission is used to hide and show tabs.</li>
</ol>

<b>Information:</b>
<ul>
  <li>Ctrl+Shift+L is the default hotkey to activate Tip Tab; also for cycling through the tab focus.</li>
  <li>Ctrl+Shift+F is the default hotkey to search Tip Tab.</li>
  <li>Custom hotkeys can be set up in the Options page to override the default ones.</li>
  <li>The Options page can be brought up from Firefox's addon manager or from the dropdown menu at upper right hand corner.</li>
  <li>Reload the Tip Tab page (or the Refresh All command) to refresh all the tabs.</li>
  <li>This extension requires Firefox 61 and up.</li>
  <li>Dragging and dropping tabs across security domains (containers and normal/private windows) would only copy the tab's url and open it as new.
      The tab history and cookies are NOT copied, to maintain the security isolation of the tabs.</li>
</ul>

<b>Issues:</b>
<ul>
  <li>For keyboard navigation, the Tab key will cycle the focus through the tabs, plus onto the Firefox controls on the frame, such as the address bar, the search bar.
      Cycling the focus to outside controls is part of the normal handling on the Tab key by Firefox and cannot be changed.
      The hotkey will only cycle the focus through the tabs and Tip Tab's search field.
  </li>
</ul>

